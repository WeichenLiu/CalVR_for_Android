CMAKE_MINIMUM_REQUIRED(VERSION 3.4.1)

# * CalVR

# Specify critical Calvr build variables.
SET(DYNAMIC_LINKING OFF CACHE BOOL "Build statically")
# Build and reference OpenSceneGraph.
SET(MXML_INCLUDE_DIR "${MXML_SOURCE_DIR}")
SET(MXML_LIBRARY_DIR "${MXML_BUILD_DIR}/lib")
SET(MXML_LIBRARY "${MXML_LIBRARY_DIR}")
SET(OSG_HOME "${OSG_BUILD_DIR}")
SET(OSG_INCLUDE_DIR "${OSG_BUILD_DIR}/include")
SET(OSG_LIBRARY_DIR "${OSG_BUILD_DIR}/lib")
SET(OSG_LIBRARY "${OSG_LIBRARY_DIR}")


SET(OPENTHREADS_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGANIMATION_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGDB_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGFX_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGGA_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGMANIPULATOR_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGPARTICLE_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGPRESENTATION_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGSHADOW_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGSIM_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGTERRAIN_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGTEXT_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGUTIL_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGVIEWER_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGVOLUME_LIBRARY "${OSG_LIBRARY_DIR}")
SET(OSGWIDGET_LIBRARY "${OSG_LIBRARY_DIR}")

FIND_PACKAGE( OpenSceneGraph )

SET(CALVR_SOURCE_DIR "${EXT_PROJ_DIR}/calvr")
SET(CALVR_BUILD_DIR "${EXT_PROJ_DIR}/calvr/build/${ANDROID_ABI}")

FILE(MAKE_DIRECTORY ${CALVR_BUILD_DIR})
ADD_SUBDIRECTORY(${CALVR_SOURCE_DIR} ${CALVR_BUILD_DIR})

INCLUDE_DIRECTORIES(${CALVR_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${CALVR_BUILD_DIR}/include)

SET(CALVR_INCLUDE_DIR "${CALVR_SOURCE_DIR}/include" "${CALVR_BUILD_DIR}/include")

#FIND_PACKAGE( OpenSceneGraph )

#message(FATAL_ERROR "osg lib ${OPENSCENEGRAPH_LIBRARIES}")
# * Calvr plugin

SET(CALVR_PLUGIN_SOURCE_DIR "${EXT_PROJ_DIR}/calvr_plugins")
SET(CALVR_PLUGIN_BUILD_DIR "${EXT_PROJ_DIR}/calvr_plugins/build/${ANDROID_ABI}")

FILE(MAKE_DIRECTORY ${CALVR_PLUGIN_BUILD_DIR})
ADD_SUBDIRECTORY(${CALVR_PLUGIN_SOURCE_DIR} ${CALVR_PLUGIN_BUILD_DIR})

INCLUDE_DIRECTORIES(${CALVR_PLUGIN_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${CALVR_PLUGIN_BUILD_DIR}/include)



